<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=delete_forever" /> -->
    <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=delete" /> -->
    
    <title>Document</title>
    <style>
        body{
           
            font-family: "Ubuntu", serif;
            
                          
        }
        .task{
            display: flex;
            background-color: white;
            padding: 4px;
            border-bottom: solid black 1px;
            transition: 0.3s;
        }
        .task:hover{
            box-shadow: 0px 4px 15px rgba(59, 67, 65, 0.6);
        }
        #ajouter{
            float: right;
            margin-right: 4px;
           
            background-color: white;

        }
        .cercler{
            width: 38px;
            height: 38px;
            border-radius: 50%;
        }
        button{
            border: none;
            box-shadow: 0px 3px 5px rgba(168,168,168,0.38);
        }
        .done{
            background-color: rgba(185, 255, 114, 0.872);
        }
    </style>
</head>
<body style="background-color: blue;">
    <div class="container" style="display: flex;justify-content: center;align-items: center;direction: rtl;">
       <div style="width: 60%;background-color: rgb(222, 225, 224);margin: 150px;">
            <!-- Table -->
            <div>
                    <!-- Header -->
                     <div style="text-align: center;width: 100%;background-color: brown;padding-top: 4px;padding-bottom: 4px;color: white;">
                        <h1 style="display: inline;">Mes Taches</h1>
                        <button id="ajouter" class="cercler">
                            <span class="material-symbols-outlined">
                            add
                            </span>
                        </button>
                    </div>
                    <!-- Tasks -->
                     <div id="tasks" style="padding: 20px;">
                    <!-- Task -->
                     <div class="task">
                        <!-- Task info -->
                        <div style="width: 70%;">
                            <h2>HELLO WORLD</h2>
                            <div>
                                <span>
                                    10/11/2025
                                </span>
                            </div>
                        </div>
                        <!-- Task info -->

                        <!-- Task Action -->
                         <div style="display: flex;align-items: center;justify-content: space-between;width: 20%;">
                            <button class="cercler" style="background-color: brown;color: white;"><span class="material-symbols-outlined">
                                delete_forever
                                </span></button>
                            <button class="cercler" style="background-color:chartreuse;color: white;">
                                <span class="material-symbols-outlined">
                                done_outline
                                </span>
                            </button>

                            <button class="cercler" style="background-color: rgb(31, 2, 117);color: white;">
                                <span class="material-symbols-outlined">
                                    edit
                                    </span>
                            </button>
                         </div>
                        <!-- Task Action -->
                     </div>
                     <!-- Task -->
                     
                      <!-- Task -->
                      <div class="task">
                        <!-- Task info -->
                        <div style="width: 70%;">
                            <h2>HELLO WORLD</h2>
                            <div>
                                <span>
                                    10/11/2025
                                </span>
                            </div>
                        </div>
                        <!-- Task info -->

                        <!-- Task Action -->
                         <div style="display: flex;align-items: center;justify-content: space-between;width: 20%;">
                            <button class="cercler" style="background-color: brown;color: white;"><span class="material-symbols-outlined">
                                delete
                                </span></button>
                            <button class="cercler" style="background-color:chartreuse;color: white;">
                                <span class="material-symbols-outlined">
                                    done_outline
                                </span>
                            </button>
                            <button class="cercler" style="background-color: rgb(31, 2, 117);color: white;"><span class="material-symbols-outlined">
                                edit
                                </span></button>
                         </div>
                        <!-- Task Action -->
                     </div>
                     <!-- Task -->


                    </div>
                    <!-- Tasks -->
            </div>
       </div>
    </div>
    
</body>
<script>
    let task={
        "title":"Hello",
        "date":"13/11/2001",
        "isDone":false
    }


    let tasks=[
        {
        "title":"Debut",
        "date":"13/11/2001",
        "isDone":false
    },
    {
        "title":"Milieu",
        "date":"13/11/2001",
        "isDone":false
    },
    {
        "title":"Fin",
        "date":"13/11/2001",
        "isDone":false
    }
    
    ]
    function getTasksFrStorage(){
       Rtasks=JSON.parse(localStorage.getItem("tasks"))
       tasks=Rtasks ?? []

     }
     getTasksFrStorage()


     function jma3kolxifda9a(){

     
    document.getElementById("tasks").innerHTML=""
    let index=0
    for(task of tasks){
        
       let content=`  
       <div class="task ${task.isDone ?'done':''}">
                        <!-- Task info -->
                        <div style="width: 70%;">
                            <h2>${task.title}</h2>
                            <div>
                                <span>
                                ${task.date}
                                </span>
                            </div>
                        </div>
                        <!-- Task info -->

                        <!-- Task Action -->
                         <div style="display: flex;align-items: center;justify-content: space-between;width: 20%;">
                            <button onclick="deleted(${index})" class="cercler" style="background-color: brown;color: white;"><span class="material-symbols-outlined">
                                delete_forever
                                </span></button>
                            ${task.isDone ? `
                            <button class="cercler" onclick="okTask(${index})" style="background-color:purple;color: white;">
                            <span class="material-symbols-outlined">
                                              cancel
                                             </span>
                            </button>
                            `:`<button class="cercler" onclick="okTask(${index})" style="background-color:chartreuse;color: white;">
                                <span class="material-symbols-outlined">
                                done_outline
                                </span>
                            </button>`}
                            
                            

                            <button class="cercler" onclick="edited(${index})" style="background-color: rgb(31, 2, 117);color: white;">
                                <span class="material-symbols-outlined">
                                    edit
                                    </span>
                            </button>
                         </div>
                        <!-- Task Action -->
                     </div>
    `


        document.getElementById("tasks").innerHTML+=content
        index++
            

    }
}
    function deleted(index){
        let con=confirm("Are you shure ?")
        if(con == true){
            tasks.splice(index,1)
            StoregeTasks()
            jma3kolxifda9a()}
        
    }
    function edited(index){
        let task=tasks[index]
        let newMessage=prompt("Please entre the new message:",task.title)
        console.log(newMessage)
        if(newMessage!=null){
        
        task.title=newMessage
        StoregeTasks()
        jma3kolxifda9a()
            }
        }
    function okTask(index){
        let task=tasks[index]
        task.isDone=!task.isDone
        StoregeTasks()
        jma3kolxifda9a()
    }

    jma3kolxifda9a()
    document.getElementById("ajouter").addEventListener("click",function(){
      let ttl=prompt("Please enter the Task:")
      let dt=new Date()
      let dtac=`${dt.getDate()}/${dt.getMonth()+1}/${dt.getFullYear()}`

      let taskObj={
        "title":ttl,
        "date":dtac,
        "isDone":false
      }
      
      tasks.push(taskObj)
      StoregeTasks()
      
      jma3kolxifda9a()
    })
// ********Storege Function********//
function StoregeTasks(){
    
        let taskString=JSON.stringify(tasks)
        localStorage.setItem("tasks",taskString)
}
  
</script>
</html>